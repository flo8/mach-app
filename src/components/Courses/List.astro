---
import Card from './Card.astro';
import { getAllCourseIndex } from '@utils/collections';
const courses = await getAllCourseIndex('courses');
---
<div>
  <div class="flex flex-col items-center py-8 px-2 md:px-0">
    <a href="/stay-up-to-date/" class="inline-flex justify-between items-center py-1 px-1 pr-4 mb-7 text-sm text-text-base bg-lighter-gray rounded-full transition-colors hover:bg-light-gray" role="alert">
      <span class="text-xs bg-primary rounded-full text-white px-4 py-1.5 mr-3"><slot name="updates-title" /></span> <span class="text-sm font-medium"><slot name="updates-description" /></span> 
      <svg class="ml-2 w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg>
    </a>
    <h1 class="text-text-title text-center max-w-7xl mb-4 text-4xl font-extrabold tracking-tight leading-none md:text-5xl lg:text-6xl"><slot name="title" /></h1>
    <p class="max-w-2xl mb-6 text-center font-light lg:mb-8 md:text-lg lg:text-xl"><slot name="description" /></p>
    <ul class="p-0 grid mt-10 max-w-3xl lg:mt-13 gap-4 md:grid-cols-2 md:gap-11">
      {courses.map((course) => <Card href={`${course.collection}/${course.slug}`} course={course} />)}
      <Card href="stay-up-to-date/" course={{
        data: {
          title: 'More to come!', 
          description: 'Weâ€™ll keep adding content in the future', 
          preview: 'coming-soon.jpg'
        },
        render: () => Promise.resolve<any>({remarkPluginFrontmatter: undefined})
      }} />
    </ul>
  </div>
</div>
