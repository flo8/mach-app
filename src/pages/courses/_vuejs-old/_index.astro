---
import Pagelayout from '@Pagelayout';
import Card from '@components/Card.astro';
import { getCollection } from 'astro:content';

// const posts = await Astro.glob('./*.{md,mdx}'); // returns an array of posts that live at ./src/pages/post/*.md
const courses = await getCollection('courses', ({ id }) => {
  // Return all entries in `src/content/docs/en/`
  return id.startsWith('vuejs/');
});
// const vuejs = await getCollection('vuejs');

// console.log('courses', courses);
---

<Pagelayout title='All vuejs courses'>
  <!-- <div>
    {
      courses.map((post) => (
        <article>
          <h1>
            <a href={post.slug}>{post.data.title}</a>
          </h1>
        </article>
      ))
    }
  </div> -->
  {
    courses.map((course) => (
      <Card
        href={`/${course.collection}/${course.slug}`}
        title={course.data.title}
        body={course.data.description}
      />
    ))
  }
</Pagelayout>
