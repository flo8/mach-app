---
import Profile from '@components/Auth/Profile.vue';
import MainLayout from '@layouts/MainLayout.astro';

const pageData = {
  title: 'Mach10',
  description: 'Connect to Mach10'
};
---

<MainLayout {...pageData}>
  <Profile client:only='vue' />
</MainLayout>
<script>
  import { getUser } from '@stores/auth';
  const BASE_URL = import.meta.env.BASE_URL;
  const user = await getUser();
  if (!user) {
    window.location.assign(`${BASE_URL}`);
  }
</script>
