---
import MainLayout from '@layouts/MainLayout.astro';
import Main from '@components/Journey/Loading.vue';
import { locales } from '@constants/localize';
const {
  pages: { journey: localJourney }
} = locales;
---

<MainLayout>
  <div class='mx-auto max-w-screen-lg p-4 lg:p-6 bg-background-base mt-4 lg:mt-8 min-h-[60vh]'>
    <h1 class='text-center mb-4 text-2xl lg:mb-8 md:text-4xl'>
      <span class='font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-600'>{localJourney.title}</span>
    </h1>

    <Main client:only='vue' />
  </div>
</MainLayout>

<script>
  import { getUser } from '@stores/auth';
  const BASE_URL = import.meta.env.BASE_URL;
  const user = await getUser();

  if (!user) {
    window.location.assign(`${BASE_URL}login/`);
  }
</script>
