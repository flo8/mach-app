---
import IntroLayout from '@layouts/IntroLayout.astro';
import Main from '@components/Journey/Loading.vue';
---

<IntroLayout>
  <section class='bg-white dark:bg-gray-900'>
    <div class='py-8 px-4 mx-auto max-w-screen-xl sm:py-16 lg:px-6'>
      <div class='grid gap-16'>
        <div class='col-span-2'>
          <h3 class='text-center mb-4 text-2xl tracking-tight font-extrabold text-gray-900 lg:mb-8 md:text-2xl dark:text-white'>
            <span class='font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-600'>Your learning</span>
          </h3>
        </div>
      </div>

      <Main client:only='vue' />
    </div>
  </section>
</IntroLayout>

<script>
  import { getUser } from '@stores/auth';
  const BASE_URL = import.meta.env.BASE_URL;
  const user = await getUser();

  if (!user) {
    window.location.assign(`${BASE_URL}login/`);
  }
</script>
