---
title: 変数の使用方法
description: 異なるデータ型で変数を宣言し、初期化して値を割り当てる方法について説明します
lastmod: 2023-05-26T02:25:00.751Z
---

# 変数の使用方法

変数を使用することで、値を覚えておき、後で名前付きの参照を介してそれらを参照することができます。変数を使用すると、コードが読みやすくなります。

## 導入

このレッスンでは、以下の内容をカバーします：

- Goでの変数の使用方法
- 変数の作成方法
- 異なる型と値の割り当て

## 変数の宣言

Goでは、変数を宣言するためにさまざまな方法があります：

- **名前と型を定義する**。ここでは、キーワード`var`を使用して変数を宣言し、名前を付けて最後に型`string`を指定します。以下に例を示します：

  ```go
  var firstName string
  ```

- **変数のグループを定義する**。変数のグループを定義することも可能です。この宣言方法を使用すると、`var`キーワードを1回だけ入力するだけで済みます。グループは、括弧`()`を使用して定義されます：

  ```go
  var (
    firstName = "Chris"
    age = 20
  )
  ```

  各変数が新しい行にあることに注意してください。

- **値を定義して割り当てる**。関数内では、`:=`演算子を使用して、宣言と割り当てを同時に行うことができます。以下のコードは、`firstName`変数の作成を示しています。データ型は、文字列と推論されます：

  ```go
  firstName := "Chris"
  ```

## 変数の割り当て

変数に新しい値を割り当てるには、まず変数が存在する必要があります。代入演算子`=`を使用します。以下に例を示します：

```go
firstName = "Mike"
```

## データ型

Goでは、さまざまなデータ型を使用することができます。これらは異なるカテゴリに分けられます：

- **基本型**。このカテゴリでは、整数、浮動小数点数（小数点を含む数値）、真偽値（真/偽）、文字列（テキスト）などの型が含まれます。
- **複合型**。複合型については別の記事で説明しますが、配列、構造体、インターフェースなどが複合型の例です。

### 型を指定して変数を宣言する

変数を宣言して型を指定する方法には2つの方法があります：

- **明示的に**、型を指定して宣言する方法です。例えば：

  ```go
  var name string
  ```

- **暗黙的に**、値を割り当てて推論させる方法です：

  ```go
  name := "chris"
  ```

  上記のコードでは、与えられた値に基づいてデータ型が推論されます。この場合、値が "chris" であるため、データ型は `string` になります。

## 文字列の補間

時には、さまざまなデータ型を混在させながら画面に出力したい場合があります。例えば、「顧客：Adamの銀行口座には20ドルあります」と書きたい場合です。

この情報を次のような変数で表現するとします：

```go
var (
  customerName = "Adam"
  accountBalance = 20
)
```

上記のテキストを出力するにはどうすればよいでしょうか？そのためには、フォーマッタを使用する`Printf()`関数があります。フォーマッタは、特定の型に対する指示です。`Printf()`にこの情報を提供することで、正しい型を出力することができます。

以下に、前述の例の文字列を出力する方法を示します：

```go
fmt.Printf("Customer %s has %d$ on their bank account", customerName, accountBalance)
```

上記のコードでは、`%s`は文字列を表し、`%d`は数値を表します。これらのフォーマッタをプレースホルダとして使用することで、変数が正しく埋め込まれ、出力は次のようになります：

```
Customer Adam has 20$ on their bank account
```

## 課題 - 変数を定義して出力する

テキサスホールデムのカードゲームに必要ないくつかの変数を定義し、それらを出力してください。

`main.go`というファイルを作成し、以下の内容を追加してください：

```go
 package main

 import "fmt"

 func main () {
 }
```

1. インポートセクションの後に以下の変数を追加してください：

   ```go
   var (
     players = 3
     replay = false
     namePlayerOne = "chris"
   )
   ```

   これで、以下の変数があります：

   - `players`：ゲームのプレイヤー数を表します。
   - `replay`：古いセッションが終了したときに新しいゲームセッションを開始するかどうかを示すブール値です。
   - `namePlayerOne`：最初のプレイヤーの名前を表す文字列です。

   これらの変数は、テキサスホールデムゲームの重要な情報を説明するのに役立ちます。

   次に、アプリを実行して動作するか確認しましょう。

1. `main()`関数に以下のコードを追加して、変数を出力します：

   ```go
   fmt.Println(players)
   fmt.Println(replay)
   fmt.Println(namePlayerOne)
   ```

1. ターミナルで`go run main.go`を実行してください：

   ```go
   go run main.go
   ```

   以下の出力が表示されるはずです：

   ```
    3
    false
    chris
   ```

   おめでとうございます。これで、さらに構築できるアプリの出発点ができました。

## 🚀 チャレンジ

テキサスホールデムのカードゲームの状態を表すために、他のプレイヤーやカードデッキなどの変数を考えてみてください。これらの変数にはどのようなデータ型を与えますか？

## レビューと自己学習

Goの公式チュートリアルで、変数についての[公式チュートリアル](https://go.dev/tour/basics/8)を参照してください。

## 解答例

```go
package main

import "fmt"

var (
  players = 3
  replay = false
  namePlayerOne = "chris"
)

func main () {
  fmt.Println(players)
  fmt.Println(replay)
  fmt.Println(namePlayerOne)
}
```